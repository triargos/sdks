{"openapi":"3.0.0","servers":[{"description":"Production","url":"https://elternportal.triargos.de"},{"description":"Staging","url":"https://elternportal.staging.triargos.de"}],"info":{"version":"1.0.0","title":"elternportal API"},"security":[{"Bearer":[]}],"components":{"securitySchemes":{"Bearer":{"type":"http","scheme":"bearer"}},"schemas":{},"parameters":{}},"paths":{"/api/v1/organizations":{"get":{"tags":["Organizations"],"responses":{"200":{"description":"Return a list of organizations","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"active":{"type":"boolean"},"slug":{"type":"string","nullable":true},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"logoUrl":{"type":"string","nullable":true}},"required":["id","name","active","slug","createdAt","updatedAt","logoUrl"]}}}}}}}},"/api/v1/organizations/{organizationId}":{"get":{"tags":["Organizations"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"organizationId","in":"path"}],"responses":{"200":{"description":"Return a single organization","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"active":{"type":"boolean"},"slug":{"type":"string","nullable":true},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"logoUrl":{"type":"string","nullable":true}},"required":["id","name","active","slug","createdAt","updatedAt","logoUrl"]}}}}}}},"/api/v1/organizations/{organizationId}/persons":{"get":{"tags":["Persons"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"organizationId","in":"path"}],"responses":{"200":{"description":"Return a list of persons","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"firstName":{"type":"string","nullable":true},"lastName":{"type":"string","nullable":true},"gender":{"type":"string","nullable":true,"enum":["male","female","other"]},"addressId":{"type":"number","nullable":true},"familyId":{"type":"number","nullable":true},"familyRole":{"type":"string","nullable":true,"enum":["father","mother","child","etc"]},"birthDate":{"type":"string","nullable":true},"birthPlace":{"type":"string","nullable":true},"birthCountryId":{"type":"number","nullable":true},"languageId":{"type":"number","nullable":true},"religionId":{"type":"number","nullable":true},"allFirstNames":{"type":"string","nullable":true},"email":{"type":"string","nullable":true},"birthName":{"type":"string","nullable":true},"academicTitle":{"type":"string","nullable":true},"namePrefix":{"type":"string","nullable":true},"nobilityTitle":{"type":"string","nullable":true},"salutationA":{"type":"string","nullable":true},"salutationB":{"type":"string","nullable":true},"jobTitle":{"type":"string","nullable":true},"comment":{"type":"string","nullable":true},"nationalityId":{"type":"number","nullable":true},"maritalStatus":{"type":"string","nullable":true},"deathDate":{"type":"string","nullable":true},"address":{"type":"object","nullable":true,"properties":{"id":{"type":"number"},"street":{"type":"string","nullable":true},"countryId":{"type":"number","nullable":true},"zip":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"nameline2":{"type":"string","nullable":true},"additional":{"type":"string","nullable":true},"district":{"type":"string","nullable":true},"poBoxZip":{"type":"string","nullable":true},"poBox":{"type":"string","nullable":true},"countyId":{"type":"number","nullable":true}},"required":["id"]},"businessEmail":{"type":"string","nullable":true}},"required":["id","gender","familyRole","address","businessEmail"]}}}}}}}},"/api/v1/organizations/{organizationId}/persons/{personId}":{"get":{"tags":["Persons"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"organizationId","in":"path"},{"schema":{"type":"number","nullable":true},"required":false,"name":"personId","in":"path"}],"responses":{"200":{"description":"Return a single person","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"firstName":{"type":"string","nullable":true},"lastName":{"type":"string","nullable":true},"gender":{"type":"string","nullable":true,"enum":["male","female","other"]},"addressId":{"type":"number","nullable":true},"familyId":{"type":"number","nullable":true},"familyRole":{"type":"string","nullable":true,"enum":["father","mother","child","etc"]},"birthDate":{"type":"string","nullable":true},"birthPlace":{"type":"string","nullable":true},"birthCountryId":{"type":"number","nullable":true},"languageId":{"type":"number","nullable":true},"religionId":{"type":"number","nullable":true},"allFirstNames":{"type":"string","nullable":true},"email":{"type":"string","nullable":true},"birthName":{"type":"string","nullable":true},"academicTitle":{"type":"string","nullable":true},"namePrefix":{"type":"string","nullable":true},"nobilityTitle":{"type":"string","nullable":true},"salutationA":{"type":"string","nullable":true},"salutationB":{"type":"string","nullable":true},"jobTitle":{"type":"string","nullable":true},"comment":{"type":"string","nullable":true},"nationalityId":{"type":"number","nullable":true},"maritalStatus":{"type":"string","nullable":true},"deathDate":{"type":"string","nullable":true},"address":{"type":"object","nullable":true,"properties":{"id":{"type":"number"},"street":{"type":"string","nullable":true},"countryId":{"type":"number","nullable":true},"zip":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"nameline2":{"type":"string","nullable":true},"additional":{"type":"string","nullable":true},"district":{"type":"string","nullable":true},"poBoxZip":{"type":"string","nullable":true},"poBox":{"type":"string","nullable":true},"countyId":{"type":"number","nullable":true}},"required":["id"]},"businessEmail":{"type":"string","nullable":true}},"required":["id","gender","familyRole","address","businessEmail"]}}}}}}},"/api/v1/organizations/{organizationId}/persons/{personId}/relationships":{"get":{"tags":["Persons"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"organizationId","in":"path"},{"schema":{"type":"number","nullable":true},"required":false,"name":"personId","in":"path"}],"responses":{"200":{"description":"Returns a list of relationships for a person","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"personId":{"type":"number"},"relationShipType":{"type":"string","enum":["daughter","other","father","child","son","mother"]},"physical":{"type":"boolean"},"custody":{"type":"boolean"},"realParent":{"type":"boolean"},"notes":{"type":"string","nullable":true}},"required":["personId","physical","custody","realParent","notes"]},"example":[{"physical":true,"personId":1,"custody":false,"realParent":true,"relationShipType":"son","notes":null}]}}}}}}},"/api/v1/organizations/{organizationId}/groups":{"get":{"tags":["Groups"],"responses":{"200":{"description":"Return a list of all groups","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"parentGroupId":{"type":"number","nullable":true},"name":{"type":"string"},"shortName":{"type":"string"},"type":{"type":"string","enum":["root","systemRoot","systemPersonGroup","systemYear","systemFacility","systemDepartment","personGroup","class","careGroup","schoolYear","facility","department","institution"]},"grades":{"type":"array","nullable":true,"items":{"type":"number"}},"schoolYear":{"type":"string","nullable":true},"additionalType":{"type":"string","nullable":true,"enum":["classFacility"]},"sortKey":{"type":"number","nullable":true}},"required":["id","parentGroupId","name","shortName","type","grades","schoolYear","additionalType","sortKey"]}}}}}}}},"/api/v1/organizations/{organizationId}/groups/{groupId}":{"get":{"tags":["Groups"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"organizationId","in":"path"},{"schema":{"type":"number","nullable":true},"required":false,"name":"groupId","in":"path"}],"responses":{"200":{"description":"Return a single group","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"parentGroupId":{"type":"number","nullable":true},"name":{"type":"string"},"shortName":{"type":"string"},"type":{"type":"string","enum":["root","systemRoot","systemPersonGroup","systemYear","systemFacility","systemDepartment","personGroup","class","careGroup","schoolYear","facility","department","institution"]},"grades":{"type":"array","nullable":true,"items":{"type":"number"}},"schoolYear":{"type":"string","nullable":true},"additionalType":{"type":"string","nullable":true,"enum":["classFacility"]},"sortKey":{"type":"number","nullable":true}},"required":["id","parentGroupId","name","shortName","type","grades","schoolYear","additionalType","sortKey"]}}}}}}},"/api/v1/organizations/{organizationId}/groups/{groupId}/members":{"get":{"tags":["Groups"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"organizationId","in":"path"},{"schema":{"type":"number","nullable":true},"required":false,"name":"groupId","in":"path"}],"responses":{"200":{"description":"Return a list of members of a group","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"personId":{"type":"number"},"entryDate":{"type":"string"},"exitDate":{"type":"string","nullable":true},"jsonData":{"nullable":true},"grade":{"type":"number","nullable":true}},"required":["personId","entryDate","exitDate","grade"]}}}}}}}}}}